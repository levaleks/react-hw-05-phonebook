{"version":3,"sources":["components/_shared/Box/Box.sc.ts","components/_shared/Box/Box.tsx","components/_shared/Input/Input.sc.ts","components/_shared/Input/Input.tsx","components/_shared/Button/Button.sc.ts","components/_shared/Button/Button.tsx","components/Phonebook/store/phonebookReducer.ts","components/Phonebook/store/PhonebookContext.ts","components/Phonebook/Notify/Notify.sc.ts","components/Phonebook/Notify/Notify.tsx","components/Phonebook/CreateContact/CreateContact.tsx","components/Phonebook/Notify/useNotify.ts","components/Phonebook/ContactsFilter/ContactsFilter.tsx","components/Phonebook/ContactsList/ContactsListItem/ContactsListItem.sc.ts","components/Phonebook/ContactsList/ContactsListItem/ContactsListItem.tsx","components/Phonebook/ContactsList/ContactsList.sc.ts","components/Phonebook/ContactsList/ContactsListPlaceholder/ContactsListPlaceholder.sc.ts","components/Phonebook/ContactsList/ContactsListPlaceholder/ContactsListPlaceholder.tsx","components/Phonebook/ContactsList/ContactsList.tsx","components/Phonebook/Phonebook.sc.ts","components/Phonebook/store/PhonebookStorage.ts","components/Phonebook/Phonebook.tsx","components/App/App.tsx","serviceWorker.ts","index.tsx"],"names":["getSBox","tag","styled","SBox","Box","children","props","as","SLabel","label","SText","span","SInput","input","Input","value","disabled","onChange","name","type","labelProps","inputProps","SButton","button","Button","phonebookInitialState","search","contacts","PhonebookActions","phonebookReducer","state","action","SET_CONTACTS","payload","CREATE_CONTACT","id","uuid","number","DELETE_CONTACT","filter","SET_SEARCH","PhonebookContext","React","createContext","dispatch","SNotify","div","Plate","createPortal","document","body","Notify","isShowing","CSSTransition","in","timeout","mountOnEnter","unmountOnExit","CreateContact","useContext","show","setIsShowing","useState","useEffect","timer","setTimeout","clearTimeout","useNotify","setName","setNumber","handleNameChange","useCallback","e","target","trim","handleNumberChange","handleSubmit","preventDefault","prettifiedName","replace","trimmedNumber","some","contactName","toLowerCase","autoComplete","onSubmit","ContactsFilter","setValue","debouncedHandler","debounce","handleChange","persist","length","SContactsListItem","SName","SNumber","SDelete","ContactsListItem","onContactDelete","data-id","onClick","currentTarget","getAttribute","SContactsList","SListWrapper","SContactsListPlaceholder","ContactsListPlaceholder","message","ContactsList","handleContactDelete","filteredContacts","useMemo","toLocaleLowerCase","includes","currentList","setCurrentList","key","component","TransitionGroup","map","SwitchTransition","SPhonebook","main","SHeading","h3","PhonebookStorage","constructor","getContacts","data","localStorage","getItem","this","JSON","parse","console","error","saveContacts","serializedContacts","stringify","setItem","Phonebook","useReducer","phonebookStorage","useRef","isIn","setIsIn","current","phonebookContext","Provider","App","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.daba90b3.chunk.js","sourcesContent":["import styled, { StyledComponent } from 'styled-components';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const getSBox = (tag: string): StyledComponent<any, any> => styled[tag]`\n    display: flex;\n    flex-direction: column;\n    margin: 0;\n    padding: 10px;\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.75);\n    border-radius: 2px;\n    background: white;\n\n    > * {\n        margin-top: 10px;\n\n        &:first-child {\n            margin-top: 0;\n        }\n    }\n`;\n\nexport const SBox = getSBox('div');\n","import React from 'react';\nimport { SBox } from './Box.sc';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type BoxProps = any;\n\nexport const Box: React.FC<BoxProps> = ({ tag = 'div', children, ...props }) => {\n    return (\n        <SBox as={tag} {...props}>\n            {children}\n        </SBox>\n    );\n};\n","import styled from 'styled-components';\n\nexport const SLabel = styled.label`\n    display: flex;\n    flex-direction: column;\n`;\n\nexport const SText = styled.span``;\n\nexport const SInput = styled.input`\n    margin-top: 5px;\n    padding: 5px;\n\n    &:first-child {\n        margin-top: 0;\n    }\n`;\n","import React, { ChangeEventHandler, HTMLAttributes, InputHTMLAttributes } from 'react';\nimport { SInput, SLabel, SText } from './Input.sc';\n\nexport type InputProps = {\n    label?: string;\n    value?: string;\n    onChange?: ChangeEventHandler<HTMLInputElement>;\n    disabled?: boolean;\n    name?: string;\n    type?: string;\n    labelProps?: HTMLAttributes<HTMLLabelElement>;\n    inputProps?: InputHTMLAttributes<HTMLInputElement>;\n};\n\nexport const Input: React.FC<InputProps> = ({\n    label,\n    value,\n    disabled,\n    onChange,\n    name,\n    type,\n    labelProps,\n    inputProps,\n}) => {\n    return (\n        <SLabel {...labelProps}>\n            {label && <SText>{label}</SText>}\n            <SInput value={value} onChange={onChange} disabled={disabled} name={name} type={type} {...inputProps} />\n        </SLabel>\n    );\n};\n","import styled from 'styled-components';\n\nexport const SButton = styled.button`\n    padding: 5px;\n`;\n","import React, { ButtonHTMLAttributes } from 'react';\nimport { SButton } from './Button.sc';\n\nexport type ButtonProps = ButtonHTMLAttributes<HTMLButtonElement>;\n\nexport const Button: React.FC<ButtonProps> = ({ children, ...props }) => {\n    return <SButton {...props}>{children}</SButton>;\n};\n","import { v4 as uuid } from 'uuid';\nimport { Contact } from '../_shared/Contact';\n\nexport type PhonebookState = { search: string; contacts: Contact[] };\n\nexport const phonebookInitialState: PhonebookState = {\n    search: '',\n    contacts: [],\n};\n\nexport enum PhonebookActions {\n    SET_CONTACTS = 'SET_CONTACTS',\n    CREATE_CONTACT = 'CREATE_CONTACT',\n    DELETE_CONTACT = 'DELETE_CONTACT',\n    SET_SEARCH = 'SET_SEARCH',\n}\n\nexport type SetContactsAction = {\n    type: PhonebookActions.SET_CONTACTS;\n    payload: {\n        contacts: Contact[];\n    };\n};\n\nexport type CreateContactAction = {\n    type: PhonebookActions.CREATE_CONTACT;\n    payload: Omit<Contact, 'id'>;\n};\n\nexport type DeleteContactAction = {\n    type: PhonebookActions.DELETE_CONTACT;\n    payload: {\n        id: string;\n    };\n};\n\nexport type SetSearchAction = {\n    type: PhonebookActions.SET_SEARCH;\n    payload: {\n        search: string;\n    };\n};\n\nexport type PhonebookActionTypes = SetContactsAction | CreateContactAction | DeleteContactAction | SetSearchAction;\n\nexport const phonebookReducer = (state: PhonebookState, action: PhonebookActionTypes): PhonebookState => {\n    switch (action.type) {\n        case PhonebookActions.SET_CONTACTS:\n            return {\n                ...state,\n                contacts: action.payload.contacts,\n            };\n        case PhonebookActions.CREATE_CONTACT:\n            return {\n                ...state,\n                contacts: [...state.contacts, { id: uuid(), name: action.payload.name, number: action.payload.number }],\n            };\n        case PhonebookActions.DELETE_CONTACT:\n            return {\n                ...state,\n                contacts: [...state.contacts.filter(({ id }) => id !== action.payload.id)],\n            };\n        case PhonebookActions.SET_SEARCH:\n            return {\n                ...state,\n                search: action.payload.search,\n            };\n        default:\n            return state;\n    }\n};\n","import React from 'react';\nimport { PhonebookActionTypes, phonebookInitialState, PhonebookState } from './phonebookReducer';\n\nexport const PhonebookContext = React.createContext<\n    PhonebookState & { dispatch: React.Dispatch<PhonebookActionTypes> }\n>({ ...phonebookInitialState, dispatch: () => 0 });\n","import styled from 'styled-components';\n\nexport const SNotify = styled.div`\n    position: fixed;\n    padding: 10px 20px;\n    top: 50px;\n    right: 10px;\n    background: firebrick;\n    text-align: left;\n    color: white;\n    font-weight: 100;\n\n    &.enter {\n        animation: 0.25s bounceInRight ease;\n    }\n\n    &.exit {\n        animation: 0.25s bounceOutRight ease;\n    }\n`;\n","import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { createPortal } from 'react-dom';\nimport { SNotify } from './Notify.sc';\n\nexport type NotifyProps = {\n    isShowing: boolean;\n};\n\nexport const Plate: React.FC = ({ children }) => {\n    return createPortal(<SNotify>{children}</SNotify>, document.body);\n};\n\nexport const Notify: React.FC<NotifyProps> = ({ isShowing, children }) => {\n    return (\n        <CSSTransition in={isShowing} timeout={200} mountOnEnter unmountOnExit>\n            <Plate>{children}</Plate>\n        </CSSTransition>\n    );\n};\n","import React, { ChangeEvent, useCallback, useContext, useState } from 'react';\nimport { Box } from '../../_shared/Box';\nimport { Input } from '../../_shared/Input';\nimport { Button } from '../../_shared/Button';\nimport { PhonebookContext } from '../store/PhonebookContext';\nimport { PhonebookActions } from '../store/phonebookReducer';\nimport { Notify, useNotify } from '../Notify';\n\nexport const CreateContact: React.FC = () => {\n    const { contacts, dispatch } = useContext(PhonebookContext);\n\n    const { isShowing, show } = useNotify();\n\n    const [name, setName] = useState('');\n    const [number, setNumber] = useState('');\n\n    const handleNameChange = useCallback((e: ChangeEvent<HTMLInputElement>): void => setName(e.target.value.trim()), [\n        setName,\n    ]);\n\n    const handleNumberChange = useCallback(\n        (e: ChangeEvent<HTMLInputElement>): void => setNumber(e.target.value.trim()),\n        [setNumber],\n    );\n\n    const handleSubmit = useCallback(\n        (e) => {\n            e.preventDefault();\n\n            const prettifiedName: string = e.target.name.value.trim().replace(/\\s{2,}/g, ' ');\n            const trimmedNumber: string = e.target.number.value.trim();\n\n            if (!prettifiedName || !trimmedNumber) return;\n\n            const hasDuplicate = contacts.some(({ name: contactName }) => {\n                return prettifiedName.toLowerCase() === contactName.toLowerCase();\n            });\n\n            if (hasDuplicate) {\n                // eslint-disable-next-line no-alert\n                show();\n\n                return;\n            }\n\n            dispatch({\n                type: PhonebookActions.CREATE_CONTACT,\n                payload: { name: prettifiedName, number: trimmedNumber },\n            });\n\n            setName('');\n            setNumber('');\n        },\n        [contacts, show, dispatch],\n    );\n\n    return (\n        <>\n            <Notify isShowing={isShowing}>Contact already exists!</Notify>\n            <Box tag=\"form\" autoComplete=\"off\" onSubmit={handleSubmit}>\n                <Input label=\"Name\" name=\"name\" value={name} onChange={handleNameChange} />\n                <Input label=\"Number\" name=\"number\" value={number} onChange={handleNumberChange} />\n                <Button disabled={!name || !number}>Add contact</Button>\n            </Box>\n        </>\n    );\n};\n","import { useEffect, useState } from 'react';\n\nexport type UseNotify = { isShowing: boolean; show: () => void };\n\nexport const useNotify = (): UseNotify => {\n    const [isShowing, setIsShowing] = useState(false);\n\n    const show = (): void => {\n        setIsShowing(true);\n    };\n\n    useEffect(() => {\n        let timer = 0;\n\n        if (isShowing) {\n            timer = setTimeout(() => {\n                setIsShowing(false);\n            }, 3000);\n        }\n\n        return (): void => {\n            clearTimeout(timer);\n        };\n    }, [isShowing]);\n\n    return {\n        isShowing,\n        show,\n    };\n};\n","import React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { debounce } from 'lodash';\nimport { Box } from '../../_shared/Box';\nimport { Input } from '../../_shared/Input';\nimport { PhonebookContext } from '../store/PhonebookContext';\nimport { PhonebookActions } from '../store/phonebookReducer';\n\nexport const ContactsFilter: React.FC = () => {\n    const { contacts, dispatch } = useContext(PhonebookContext);\n    const [value, setValue] = useState('');\n\n    const debouncedHandler = useCallback(\n        debounce(\n            (e) => dispatch({ type: PhonebookActions.SET_SEARCH, payload: { search: e.target.value.trim() } }),\n            200,\n        ),\n        [debounce],\n    );\n\n    const handleChange = useCallback(\n        (e) => {\n            e.persist();\n\n            setValue(e.target.value.trim());\n\n            debouncedHandler(e);\n        },\n        [debouncedHandler],\n    );\n\n    useEffect(() => {\n        if (!contacts.length && value) setValue('');\n    }, [contacts, value, setValue]);\n\n    return (\n        <Box>\n            <Input label=\"Find contacts by name\" value={value} onChange={handleChange} disabled={!contacts.length} />\n        </Box>\n    );\n};\n","import styled from 'styled-components';\nimport { SBox } from '../../../_shared/Box/Box.sc';\nimport { SButton } from '../../../_shared/Button/Button.sc';\n\nexport const SContactsListItem = styled(SBox)`\n    flex-direction: row;\n    align-items: center;\n\n    > * {\n        margin: 0;\n    }\n\n    &.enter {\n        animation: 0.25s backInLeft ease;\n    }\n\n    &.exit {\n        animation: 0.25s backOutLeft ease;\n    }\n`;\n\nexport const SName = styled.span``;\n\nexport const SNumber = styled.span`\n    margin-left: auto;\n`;\n\nexport const SDelete = styled(SButton)`\n    margin-left: auto;\n`;\n","import React from 'react';\nimport { SContactsListItem, SDelete, SName, SNumber } from './ContactsListItem.sc';\nimport { Contact } from '../../_shared/Contact';\n\nexport type ContactsListItemProps = Contact & {\n    onContactDelete: (id: string) => void;\n};\n\nexport const ContactsListItem: React.FC<ContactsListItemProps> = ({ id, name, number, onContactDelete }) => {\n    const handleContactDelete = (e): void => {\n        onContactDelete(e.currentTarget.getAttribute('data-id'));\n    };\n\n    return (\n        <SContactsListItem as=\"li\">\n            <SName>{name}</SName>\n            <SNumber>{number}</SNumber>\n            <SDelete data-id={id} onClick={handleContactDelete}>\n                Delete\n            </SDelete>\n        </SContactsListItem>\n    );\n};\n","import styled from 'styled-components';\nimport { getSBox } from '../../_shared/Box/Box.sc';\n\nexport const SContactsList = styled(getSBox('ul'))`\n    margin: 0;\n    padding: 0;\n    box-shadow: none;\n    border-radius: 0;\n    background: 0;\n`;\n\nexport const SListWrapper = styled.div`\n    margin-top: 20px;\n\n    &.enter {\n        animation: 0.25s fadeIn ease;\n    }\n\n    &.exit {\n        animation: 0.25s fadeOut ease;\n    }\n`;\n","import styled from 'styled-components';\nimport { SContactsListItem } from '../ContactsListItem/ContactsListItem.sc';\n\nexport const SContactsListPlaceholder = styled(SContactsListItem)`\n    justify-content: center;\n`;\n","import React from 'react';\nimport { SContactsListPlaceholder } from './ContactsListPlaceholder.sc';\n\nexport type ContactsListPlaceholderProps = {\n    message: string;\n};\n\nexport const ContactsListPlaceholder: React.FC<ContactsListPlaceholderProps> = ({ message }) => {\n    return <SContactsListPlaceholder as=\"li\">{message}</SContactsListPlaceholder>;\n};\n","import React, { ReactElement, useCallback, useContext, useEffect, useMemo, useState } from 'react';\nimport { TransitionGroup, CSSTransition, SwitchTransition } from 'react-transition-group';\nimport { ContactsListItem } from './ContactsListItem';\nimport { SContactsList, SListWrapper } from './ContactsList.sc';\nimport { ContactsListPlaceholder } from './ContactsListPlaceholder';\nimport { PhonebookContext } from '../store/PhonebookContext';\nimport { PhonebookActions } from '../store/phonebookReducer';\n\nexport const ContactsList: React.FC = () => {\n    const { search, contacts, dispatch } = useContext(PhonebookContext);\n\n    const handleContactDelete = useCallback(\n        (id) => dispatch({ type: PhonebookActions.DELETE_CONTACT, payload: { id } }),\n        [dispatch],\n    );\n\n    const filteredContacts = useMemo(\n        () => contacts.filter(({ name }) => name.toLocaleLowerCase().includes(search.toLocaleLowerCase())),\n        [search, contacts],\n    );\n\n    const [currentList, setCurrentList] = useState<{ key: string; component: ReactElement }>();\n\n    useEffect(() => {\n        if (filteredContacts.length) {\n            setCurrentList({\n                key: 'list',\n                component: (\n                    <TransitionGroup component={SContactsList}>\n                        {filteredContacts.map(({ id, name, number }) => (\n                            <CSSTransition key={id} timeout={200} mountOnEnter unmountOnExit>\n                                <ContactsListItem\n                                    id={id}\n                                    name={name}\n                                    number={number}\n                                    onContactDelete={handleContactDelete}\n                                />\n                            </CSSTransition>\n                        ))}\n                    </TransitionGroup>\n                ),\n            });\n        } else {\n            setCurrentList({\n                key: 'placeholder',\n                component: (\n                    <SContactsList>\n                        <ContactsListPlaceholder message=\"Nothing to show\" />\n                    </SContactsList>\n                ),\n            });\n        }\n    }, [filteredContacts, handleContactDelete]);\n\n    return (\n        <SwitchTransition>\n            <CSSTransition key={currentList?.key ?? 'key'} timeout={200}>\n                <SListWrapper>{currentList?.component}</SListWrapper>\n            </CSSTransition>\n        </SwitchTransition>\n    );\n};\n","import styled from 'styled-components';\nimport { SBox } from '../_shared/Box/Box.sc';\n\nexport const SPhonebook = styled.main`\n    --color-big-stone: #122236;\n    --color-big-stone-pale: rgba(18, 34, 54, 0.1);\n    --color-regent-gray: #82909e;\n    --color-mystic: #e4e9f0;\n\n    margin: 60px auto 0;\n    width: 320px;\n\n    > ${SBox} {\n        margin-top: 20px;\n\n        &:first-child {\n            margin-top: 0;\n        }\n\n        &:empty {\n            margin-top: 0;\n        }\n    }\n`;\n\nexport const SHeading = styled.h3`\n    margin: 0 0 20px;\n\n    &.enter {\n        animation: 0.5s backInLeft ease;\n    }\n`;\n","import { Contact } from '../_shared/Contact';\n\nexport class PhonebookStorage {\n    constructor(public key) {}\n\n    getContacts(): Contact[] {\n        const data = localStorage.getItem(this.key);\n\n        try {\n            const { contacts } = data ? JSON.parse(data) : { contacts: [] };\n\n            return contacts;\n        } catch (e) {\n            console.error(`Failed to parse contacts storage: ${data}.`);\n\n            throw e;\n        }\n    }\n\n    saveContacts(contacts): void {\n        try {\n            const serializedContacts = JSON.stringify({ contacts });\n\n            localStorage.setItem(this.key, serializedContacts);\n        } catch (e) {\n            console.error(`Failed to serialize contacts list.`);\n\n            throw e;\n        }\n    }\n}\n","import React, { useEffect, useMemo, useReducer, useRef, useState } from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { CreateContact } from './CreateContact';\nimport { ContactsFilter } from './ContactsFilter';\nimport { ContactsList } from './ContactsList';\nimport { SHeading, SPhonebook } from './Phonebook.sc';\nimport { phonebookReducer, phonebookInitialState, PhonebookActions } from './store/phonebookReducer';\nimport { PhonebookContext } from './store/PhonebookContext';\nimport { PhonebookStorage } from './store/PhonebookStorage';\n\nexport const Phonebook: React.FC = () => {\n    const [{ search, contacts }, dispatch] = useReducer(phonebookReducer, phonebookInitialState);\n    const phonebookStorage = useRef(new PhonebookStorage('phonebook-v1'));\n\n    const [isIn, setIsIn] = useState(false);\n\n    useEffect(() => {\n        dispatch({\n            type: PhonebookActions.SET_CONTACTS,\n            payload: { contacts: phonebookStorage.current.getContacts() },\n        });\n\n        setIsIn(true);\n    }, []);\n\n    useEffect(() => {\n        phonebookStorage.current.saveContacts(contacts);\n    }, [contacts]);\n\n    const phonebookContext = useMemo(() => ({ search, contacts, dispatch }), [search, contacts, dispatch]);\n\n    return (\n        <PhonebookContext.Provider value={phonebookContext}>\n            <SPhonebook>\n                <CSSTransition in={isIn} timeout={200}>\n                    <SHeading>Phonebook</SHeading>\n                </CSSTransition>\n                <CreateContact />\n                <ContactsFilter />\n                <ContactsList />\n            </SPhonebook>\n        </PhonebookContext.Provider>\n    );\n};\n","import React from 'react';\nimport 'animate.css';\nimport { Phonebook } from '../Phonebook';\n\nexport const App: React.FC = () => {\n    return <Phonebook />;\n};\n","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === '[::1]' ||\n        // 127.0.0.0/8 are considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\ntype Config = {\n    onSuccess?: (registration: ServiceWorkerRegistration) => void;\n    onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                            'worker. To learn more, visit https://bit.ly/CRA-PWA',\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { 'Service-Worker': 'script' },\n    })\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log('No internet connection found. App is running in offline mode.');\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then((registration) => {\n                registration.unregister();\n            })\n            .catch((error) => {\n                console.error(error.message);\n            });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}